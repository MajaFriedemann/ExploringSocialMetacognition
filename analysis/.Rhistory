print(tmp.gg)
}
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen", color = NULL), alpha = 0.5) +
geom_density(aes(x = before,
fill = "pink", color = "pink"), alpha = 0.5) +
geom_density(aes(x = estimate,
fill = "lightblue", color = "lightblue"), alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen", color = NA), alpha = 0.5) +
geom_density(aes(x = before,
fill = "pink", color = "pink"), alpha = 0.5) +
geom_density(aes(x = estimate,
fill = "lightblue", color = "lightblue"), alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen", color = NA,
linetype = "dotted", size = 1), alpha = 0.5) +
geom_density(aes(x = before, fill = "pink", color = NA,
linetype = "dotted", size = 1), alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "lightblue", color = NA, size = 1), alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen", color = NA), alpha = 0.5) +
geom_density(aes(x = before, fill = "pink", color = NA), alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "lightblue", color = NA), alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen", color = NA), alpha = 0.5) +
geom_density(aes(x = before, fill = "pink", color = NA), alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "lightblue", color = "blue"), alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen", color = NA), alpha = 0.5) +
geom_density(aes(x = before, fill = "pink", color = NA), alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "lightblue", color = "none"), alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "lightgreen"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "pink"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "lightblue"), color = NA, alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
scale_fill_manual(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
for (q in unique(DE$qPrompt)) {
tmp <- DE[DE$qPrompt == q, ]
tmp.gg <- ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .15)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
print(tmp.gg)
}
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
geom_point(aes(x = estimate, y = .18, color = "estimate")) +
geom_errorbarh(aes(x = estimate, y = .18, color = "estimate"), fun.data = mean_cl_normal) +
geom_point(aes(x = after, y = .17, color = "after")) +
geom_errorbarh(aes(x = after, y = .17, color = "after"), fun.data = mean_cl_normal) +
geom_point(aes(x = before, y = .19, color = "before")) +
geom_errorbarh(aes(x = before, y = .19, color = "before"), fun.data = mean_cl_normal) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
lsr::ciMean(tmp$estimate)
library(lsr)
lsr::ciMean(tmp$estimate)[1]
lsr::ciMean(tmp$estimate)[2]
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
geom_point(aes(x = estimate, y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate"), fun.data = mean_cl_normal) +
# geom_point(aes(x = after, y = .17, color = "after")) +
# geom_errorbarh(aes(x = after, y = .17, color = "after"), fun.data = mean_cl_normal) +
# geom_point(aes(x = before, y = .19, color = "before")) +
# geom_errorbarh(aes(x = before, y = .19, color = "before"), fun.data = mean_cl_normal) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate"), fun.data = mean_cl_normal) +
# geom_point(aes(x = after, y = .17, color = "after")) +
# geom_errorbarh(aes(x = after, y = .17, color = "after"), fun.data = mean_cl_normal) +
# geom_point(aes(x = before, y = .19, color = "before")) +
# geom_errorbarh(aes(x = before, y = .19, color = "before"), fun.data = mean_cl_normal) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate"), fun.data = mean_cl_normal) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after"), fun.data = mean_cl_normal) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before"), fun.data = mean_cl_normal) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1]) +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_manual(name = "", values = c("dashed"), labels = c("actual date")) +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], aes(linetype = "dashed")) +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_manual(name = "", values = c("dashed"), labels = c("actual date")) +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], aes(linetype = "actual date")) +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_manual(name = "", values = c("dashed"), labels = c("actual date")) +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_manual(name = "", values = c("dashed"), labels = c("actual date")) +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_manual(name = "", values = c("dashed"), labels = c("actual date"), guide = T) +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_manual(name = "", values = c("dashed"), labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_identity(name = "", values = c("dashed"), labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], linetype = "dashed") +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_identity(name = "", labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(xintercept = tmp$qTarget[1], aes(linetype = "dashed")) +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_identity(name = "", labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(aes(xintercept = tmp$qTarget[1], linetype = "dashed")) +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_identity(name = "", labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
theme_light()
ggplot(tmp) +
# correct answer - dashed line
geom_vline(aes(xintercept = tmp$qTarget[1], linetype = "dashed")) +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_identity(name = "", labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
guides(linetype = guide_legend(order = 1)) +
theme_light()
for (q in unique(DE$qPrompt)) {
tmp <- DE[DE$qPrompt == q, ]
tmp.gg <- ggplot(tmp) +
# correct answer - dashed line
geom_vline(aes(xintercept = tmp$qTarget[1], linetype = "dashed")) +
# density of after/estimate/before
geom_density(aes(x = after, fill = "after"), color = NA, alpha = 0.5) +
geom_density(aes(x = before, fill = "before"), color = NA, alpha = 0.5) +
geom_density(aes(x = estimate,  fill = "estimate"), color = NA, alpha = 0.75) +
# mean after/estimate/before with 95% CI
geom_point(aes(x = mean(estimate), y = .18, color = "estimate")) +
geom_errorbarh(aes(xmin = ciMean(estimate)[1], xmax = ciMean(estimate)[2],
y = .18, color = "estimate")) +
geom_point(aes(x = mean(after), y = .17, color = "after")) +
geom_errorbarh(aes(xmin = ciMean(after)[1], xmax = ciMean(after)[2],
y = .17, color = "after")) +
geom_point(aes(x = mean(before), y = .19, color = "before")) +
geom_errorbarh(aes(xmin = ciMean(before)[1], xmax = ciMean(before)[2],
y = .19, color = "before")) +
# labels etc.
scale_linetype_identity(name = "", labels = c("actual date"), guide = "legend") +
scale_fill_discrete(name = "answer density") +
scale_color_discrete(name = "answer +/- 95% confidence") +
scale_x_continuous(limits = c(1800, 2000)) +
scale_y_continuous(limits = c(0, .2)) +
labs(title = tmp$qPrompt[1], x = "year") +
guides(linetype = guide_legend(order = 1)) +
theme_light()
print(tmp.gg)
}
